"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t="waitForImages";e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},e.expr[":"]["has-src"]=function(t){return e(t).is('img[src][src!=""]')},e.expr[":"].uncached=function(t){return e(t).is(":has-src")?!t.complete:!1},e.fn.waitForImages=function(){var r,n,s,o=0,a=0,i=e.Deferred();if(e.isPlainObject(arguments[0])?(s=arguments[0].waitForAll,n=arguments[0].each,r=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?s=arguments[0]:(r=arguments[0],n=arguments[1],s=arguments[2]),r=r||e.noop,n=n||e.noop,s=!!s,!e.isFunction(r)||!e.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var c=e(this),u=[],m=e.waitForImages.hasImageProperties||[],f=e.waitForImages.hasImageAttributes||[],l=/url\(\s*(['"]?)(.*?)\1\s*\)/g;s?c.find("*").addBack().each(function(){var t=e(this);t.is("img:has-src")&&u.push({src:t.attr("src"),element:t[0]}),e.each(m,function(e,r){var n,s=t.css(r);if(!s)return!0;for(;n=l.exec(s);)u.push({src:n[2],element:t[0]})}),e.each(f,function(r,n){var s,o=t.attr(n);return o?(s=o.split(","),void e.each(s,function(r,n){n=e.trim(n).split(" ")[0],u.push({src:n,element:t[0]})})):!0})}):c.find("img:has-src").each(function(){u.push({src:this.src,element:this})}),o=u.length,a=0,0===o&&(r.call(c[0]),i.resolveWith(c[0])),e.each(u,function(s,u){var m=new Image,f="load."+t+" error."+t;e(m).one(f,function l(t){var s=[a,o,"load"==t.type];return a++,n.apply(u.element,s),i.notifyWith(u.element,s),e(this).off(f,l),a==o?(r.call(c[0]),i.resolveWith(c[0]),!1):void 0}),m.src=u.src})}),i.promise()}});